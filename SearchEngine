package Assignment;

package Assignment;


import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.List;

public class SearchEngine extends JFrame {
    private JTextField searchField; // Input field for entering search term
    private JTextArea resultsArea; // Area to display search results
    private JLabel selectedFilesLabel; // Label to display selected files
    private FileSelector fileSelector; // File selector instance
    private FileSearcher fileSearcher; // File searcher instance

    // Constructor to initialize the search engine GUI
    public SearchEngine() {
        setTitle("Search Engine"); // Set title of the window
        setSize(600, 400); // Set window size
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // Close application on window close
        setLocationRelativeTo(null); // Center the window on screen

        // Panels for organizing GUI components
        JPanel mainPanel = new JPanel(new BorderLayout());
        JPanel searchPanel = new JPanel(new BorderLayout());
        JPanel buttonPanel = new JPanel(new GridLayout(2, 1, 5, 5)); // Grid layout for buttons

        // Initialize GUI components
        searchField = new JTextField(); // Input field for search term
        JLabel searchLabel = new JLabel("Enter Search Term:"); // Label for search field
        JButton searchButton = new JButton("Search"); // Button to trigger search
        resultsArea = new JTextArea(); // Area to display search results
        JScrollPane scrollPane = new JScrollPane(resultsArea); // Scroll pane for results area
        selectedFilesLabel = new JLabel("Selected Files: None"); // Label to display selected files
        fileSelector = new FileSelector();
        fileSearcher = new FileSearcher();

        // Add components to panels
        searchPanel.add(searchLabel, BorderLayout.WEST);
        searchPanel.add(searchField, BorderLayout.CENTER);
        searchPanel.add(searchButton, BorderLayout.EAST);

        buttonPanel.add(fileSelector.getSelectFilesButton());
        buttonPanel.add(selectedFilesLabel);

        // Add panels to main panel
        mainPanel.add(searchPanel, BorderLayout.NORTH);
        mainPanel.add(scrollPane, BorderLayout.CENTER);
        mainPanel.add(buttonPanel, BorderLayout.WEST);

        // Add main panel to frame
        add(mainPanel);

        // Action listener for search button
        searchButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                String searchTerm = searchField.getText();
                List<String> selectedFiles = fileSelector.getSelectedFiles();
                fileSearcher.searchFiles(selectedFiles, searchTerm);
                resultsArea.setText(fileSearcher.getSearchResults());
            }
        });
    }
}
